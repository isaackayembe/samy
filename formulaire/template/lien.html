{% extends 'base.html' %}
{% load static %}

{% block content %}
<nav class="navbar">
    <h3 class="main-title">YouEvent.com</h3>
    {% if user.is_authentificated %}
    <li class="nav-item">
        <a class="nav-link" href="{% url 'authetification' %}"><i class="bi bi-person-fill"></i></a>
    </li>
    {% else %}
     <li class="nav-item">
        <a class="nav-link click-scroll" href="{% url 'liste_liens' %}" style="color: #ffffff;"><i class="bi bi-person-fill"></i></a>
    </li>
    {% endif %}
</nav>
<div class="background-image">
    <div class="overlay"></div>
    <div class="snow"></div>
    <div class="container text-center">
        <h1 class="announcement">Bienvenue au mariage de Judith et Samuel</h1>
        <h1></h1>
        <h3 class="confirmation">Merci de confirmer votre présence pour la date du 19 juillet 2025 en cliquant sur le bouton ci-dessous :</h3>
        <a href="{% url 'remplir_formulaire' %}" target="_blank" class="btn-confirm">
            Remplir le formulaire
        </a>
    </div>
</div>

<style>
    body {
        overflow: hidden; /* Empêche le défilement */
    }
    .navbar {
        display: flex; /* Utilise Flexbox */
        justify-content: space-between; /* Espace entre les éléments */
        align-items: center; /* Centre verticalement */
        background-color: #000000; /* Couleur bleu nuit */
        padding: 15px; /* Rembourrage */
        position: fixed; /* Fixe la navbar en haut */
        width: 100%; /* Prend toute la largeur */
        top: 0; /* Positionne en haut */
        z-index: 1000; /* Assure que la navbar reste au-dessus */
        color: #fff; /* Couleur du texte de la navbar */
    }

    .main-title {
        margin: 0; /* Pas de marge */
        font-size: 2.5em; /* Taille de police plus grande */
        color: #fff; /* Couleur du texte */
    }
    .nav-item {
        list-style: none; /* Supprime les puces */
    }
    .nav-link {
        color: #ffffff; /* Couleur du texte des liens */
        text-decoration: none; /* Supprime le soulignement */
        font-size: 1.1em; /* Taille de police */
        padding: 10px 15px; /* Espacement interne */
        border-radius: 5px; /* Coins arrondis */
        transition: background 0.3s; /* Transition pour le survol */
        margin-left: 20px; /* Espace entre le titre et le lien */
    }
    .nav-link:hover {
        background: #007700; /* Vert plus clair au survol */
    }
    .background-image {
        background-image: url("{% static 'image/save1.jpg' %}");
        background-size: cover; /* Couvre tout l'élément */
        background-position: center; /* Centre l'image */
        height: 90vh; /* Hauteur de la fenêtre */
        display: flex; /* Utilise flexbox pour centrer le contenu */
        align-items: flex-end; /* Aligne le contenu en bas */
        justify-content: center; /* Centre horizontalement */
        padding: 80px; /* Espacement en bas */
        margin-top: 80px; /* Espace pour la navbar */
        position: relative; /* Position relative pour le dégradé */
        animation: wave 5s infinite ease-in-out; /* Animation de vagues */
    }
    @keyframes wave {
        0% { transform: translateX(0); }
        50% { transform: translateX(-0.5%); } /* Déplace légèrement vers la gauche */
        100% { transform: translateX(0); }
    }
    .overlay {
        position: absolute; /* Positionne l'overlay par-dessus l'image */
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(to top, rgba(0, 28, 46, 0.7), transparent); /* Dégradé noir */
        z-index: 1; /* Assure que le dégradé soit au-dessus de l'image */
    }
    .snow {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 100%;
        overflow: hidden; /* Empêche les boules de neige de dépasser */
        z-index: 2; /* Au-dessus de l'overlay */
    }
    .snowball {
        position: absolute;
        width: 10px;
        height: 10px;
        background: white;
        border-radius: 50%;
        opacity: 0.8;
        animation: fall linear infinite;
    }
    @keyframes fall {
        0% {
            top: -10%;
            transform: translateX(0);
        }
        100% {
            top: 100%;
            transform: translateX(calc(-10% + 10px)); /* Légère dérive horizontale */
        }
    }
    .container {
        background-color: rgba(1, 48, 45, 0.5); /* Fond noir semi-transparent */
        padding: 10px; /* Rembourrage */
        border-radius: 15px; /* Coins arrondis */
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5); /* Ombre pour un effet de profondeur */
        text-align: center; /* Centrer le texte */
        width: 100%; /* Largeur du conteneur */
        max-width: 400px; /* Largeur maximale */
        position: relative; /* Position relative pour le texte */
        z-index: 3; /* Assure que le texte soit au-dessus de l'overlay */
    }
    .announcement, .confirmation {
        font-size: 1.2em; /* Taille de police ajustable */
        color: #fff; /* Couleur du texte pour le paragraphe (blanc) */
        margin: 10px 0; /* Espacement autour des paragraphes */
    }
    .btn-confirm {
        display: inline-block;
        margin-top: 15px;
        padding: 10px 20px; /* Espacement interne du bouton */
        font-size: 1.2em; 
        color: #fff; /* Couleur du texte du bouton */
        background-color: #28a745; /* Couleur de fond du bouton (vert) */
        border-radius: 5px; /* Coins arrondis pour le bouton */
        text-decoration: none; /* Pas de soulignement */
        animation: blink 1s infinite; /* Animation de clignotement */
    }
    @keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.5; }
    }
    .btn-confirm:hover {
        background-color: #218838; /* Couleur du bouton au survol */
    }
</style>

<script>
    // Créer des boules de neige
    function createSnowballs() {
        const snowContainer = document.querySelector('.snow');
        for (let i = 0; i < 100; i++) { // Ajustez le nombre de boules de neige ici
            const snowball = document.createElement('div');
            snowball.classList.add('snowball');
            snowball.style.left = Math.random() * 100 + 'vw'; // Position horizontale aléatoire
            snowball.style.animationDuration = Math.random() * 3 + 2 + 's'; // Durée d'animation aléatoire
            snowball.style.opacity = Math.random(); // Opacité aléatoire
            snowContainer.appendChild(snowball);
        }
    }
    
    window.onload = createSnowballs; // Créez les boules de neige à la charge de la page
</script>
{% endblock %}